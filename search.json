[{"path":"http://isaacbain.com/isaacr/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 Isaac Bain Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://isaacbain.com/isaacr/articles/LCDB-symbology.html","id":"purpose","dir":"Articles","previous_headings":"","what":"Purpose","title":"LCDB-symbology","text":"goal lcdb_symbology colour symbology Land Cover Database (LCDB) way consistent Manaaki Whenua Landcare Research (MWLR)’s original symbology. MWLR provide .lyr file use ArcGIS (QGIS via plugin), repo provides way use symbology R ggplot2 non-GIS software.","code":""},{"path":"http://isaacbain.com/isaacr/articles/LCDB-symbology.html","id":"usage","dir":"Articles","previous_headings":"","what":"Usage","title":"LCDB-symbology","text":"load LCDB symbology, use load_lcdb_symbology function. return data frame following columns: Class, Colour, Name. Class column contains class code, Colour column contains colour HEX format, Name column contains name land cover class.","code":"# load data  landcover_df <- load_lcdb_symbology()"},{"path":"http://isaacbain.com/isaacr/articles/LCDB-symbology.html","id":"table-of-colours","dir":"Articles","previous_headings":"","what":"Table of colours","title":"LCDB-symbology","text":"’s table colours used LCDB symbology. Extracted XML original .lyr file.","code":""},{"path":[]},{"path":"http://isaacbain.com/isaacr/articles/LCDB-symbology.html","id":"ggplot2","dir":"Articles","previous_headings":"Examples","what":"ggplot2","title":"LCDB-symbology","text":"’s example use LCDB symbology ggplot2. Let’s make map Christchurch, another one Blenheim.","code":"library(ggplot2) library(sf)  # for ggplot2, load named vector lcdb_colours_vector <- load_lcdb_vector()  # Plot using ggplot2 with scale_fill_manual ggplot(data = lcdb5_chch) + # lcdb5_chch available in the isaacr package, and it lazy-loads - so just refer to it   geom_sf(aes(fill = as.factor(Class_2018)), color = NA) +   scale_fill_manual(values = lcdb_colours_vector) +   theme_void() +   theme(legend.position = \"none\") # Plot using ggplot2 with scale_fill_manual ggplot(data = lcdb5_blenheim) +   geom_sf(aes(fill = as.factor(Class_2018)), color = NA) +   scale_fill_manual(values = lcdb_colours_vector) +   theme_void() +   theme(legend.position = \"none\")"},{"path":"http://isaacbain.com/isaacr/articles/LCDB-symbology.html","id":"leaflet","dir":"Articles","previous_headings":"Examples","what":"Leaflet","title":"LCDB-symbology","text":"’s example use LCDB symbology leaflet.","code":"library(leaflet)  lcdb5_chch <- lcdb5_chch |>    left_join(landcover_df, by = c(\"Class_2018\" = \"Class\"))  # Create a leaflet map of Christchurch leaflet(data = lcdb5_chch |> st_transform(4326)) %>%   addTiles() %>%   addPolygons(     fillColor = ~Colour,     weight = 0, # Border thickness     fillOpacity = 1,     popup = ~paste(Name)   ) lcdb5_blenheim <- lcdb5_blenheim |>    left_join(landcover_df, by = c(\"Class_2018\" = \"Class\"))  # Create a leaflet map of Blenheim leaflet(data = lcdb5_blenheim |> st_transform(4326)) %>%   addTiles() %>%   addPolygons(     fillColor = ~Colour,     weight = 0, # Border thickness     fillOpacity = 1,     popup = ~paste(Name)   )"},{"path":"http://isaacbain.com/isaacr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Isaac Bain. Author, maintainer.","code":""},{"path":"http://isaacbain.com/isaacr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Bain (2024). isaacr: package Isaac Bain's personal R code. R package version 0.2.0, http://isaacbain.com/isaacr/, https://github.com/isaacbain/isaacr.","code":"@Manual{,   title = {isaacr: A package with Isaac Bain's personal R code},   author = {Isaac Bain},   year = {2024},   note = {R package version 0.2.0, http://isaacbain.com/isaacr/},   url = {https://github.com/isaacbain/isaacr}, }"},{"path":"http://isaacbain.com/isaacr/index.html","id":"isaacr","dir":"","previous_headings":"","what":"A package with Isaac Bain's personal R code","title":"A package with Isaac Bain's personal R code","text":"isaacr R package assortment R functions useful . ’s just collection functions ’ve written years, storing package convenient way keep organized accessible.","code":""},{"path":"http://isaacbain.com/isaacr/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"A package with Isaac Bain's personal R code","text":"can install development version isaacr GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"isaacbain/isaacr\")"},{"path":"http://isaacbain.com/isaacr/reference/get_stock_unit.html","id":null,"dir":"Reference","previous_headings":"","what":"Nearest stock unit equivalent based on year — get_stock_unit","title":"Nearest stock unit equivalent based on year — get_stock_unit","text":"get_stock_unit returns nearest stock unit equivalent given animal year. function uses stock_units data frame find nearest year corresponding stock unit equivalent. stock_units data frame contains stock unit equivalents different animals years 1980, 1985, 2000, 2017. can updated needed, held constant. Follows methods Snelder et al (2021).","code":""},{"path":"http://isaacbain.com/isaacr/reference/get_stock_unit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nearest stock unit equivalent based on year — get_stock_unit","text":"","code":"get_stock_unit(animal, year, stock_units = stock_units)"},{"path":"http://isaacbain.com/isaacr/reference/get_stock_unit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Nearest stock unit equivalent based on year — get_stock_unit","text":"animal animal type (e.g. \"sheep\", \"beer\", \"dairy\", \"deer\") year year stock_units stock units data frame","code":""},{"path":"http://isaacbain.com/isaacr/reference/get_stock_unit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Nearest stock unit equivalent based on year — get_stock_unit","text":"Nearest stock unit equivalent given animal year","code":""},{"path":"http://isaacbain.com/isaacr/reference/get_stock_unit.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Nearest stock unit equivalent based on year — get_stock_unit","text":"Snelder TH, Fraser C, Larned ST, Monaghan R, De Malmanche S, Whitehead AL. Attribution river water-quality trends agricultural land use climate variability New Zealand. Marine Freshwater Research. 2021;73(1):1-19. doi:10.1071/mf21086","code":""},{"path":"http://isaacbain.com/isaacr/reference/get_stock_unit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Nearest stock unit equivalent based on year — get_stock_unit","text":"","code":"get_stock_unit(\"Sheep\", 1990) #> [1] 0.95  library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union  test_df <- tibble(   year = rep(c(1970, 1985, 1990, 2005), each = 3),   animal = rep(c(\"Sheep\", \"Beef cattle\", \"Dairy cattle\"), times = 4),   count = c(3000, 5000, 7000, 8000, 10000, 6000, 7000, 9000, 11000, 5000, 6000, 7000) )  test_df |>   rowwise() |>   mutate(stock_unit_equivalent = count * get_stock_unit(animal, year)) |>   ungroup() #> # A tibble: 12 × 4 #>     year animal       count stock_unit_equivalent #>    <dbl> <chr>        <dbl>                 <dbl> #>  1  1970 Sheep         3000                  2850 #>  2  1970 Beef cattle   5000                 25000 #>  3  1970 Dairy cattle  7000                 35000 #>  4  1985 Sheep         8000                  7600 #>  5  1985 Beef cattle  10000                 53000 #>  6  1985 Dairy cattle  6000                 33000 #>  7  1990 Sheep         7000                  6650 #>  8  1990 Beef cattle   9000                 47700 #>  9  1990 Dairy cattle 11000                 60500 #> 10  2005 Sheep         5000                  5750 #> 11  2005 Beef cattle   6000                 36000 #> 12  2005 Dairy cattle  7000                 47600"},{"path":"http://isaacbain.com/isaacr/reference/lcdb5_blenheim.html","id":null,"dir":"Reference","previous_headings":"","what":"LCDB5 data cropped to Blenheim — lcdb5_blenheim","title":"LCDB5 data cropped to Blenheim — lcdb5_blenheim","text":"subset Land Cover Database version 5 (LCDB5) data cropped Blenheim area.","code":""},{"path":"http://isaacbain.com/isaacr/reference/lcdb5_blenheim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"LCDB5 data cropped to Blenheim — lcdb5_blenheim","text":"","code":"lcdb5_blenheim"},{"path":"http://isaacbain.com/isaacr/reference/lcdb5_blenheim.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"LCDB5 data cropped to Blenheim — lcdb5_blenheim","text":"SF data object 2,232 features 23 fields. NZTM2000 projection. CRS: 2193. Clipped bbox: xmin = 1660092, xmax = 1693589, ymin = 5396530, ymax = 5412816 .","code":""},{"path":"http://isaacbain.com/isaacr/reference/lcdb5_blenheim.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"LCDB5 data cropped to Blenheim — lcdb5_blenheim","text":"https://lris.scinfo.org.nz/layer/104400-lcdb-v50-land-cover-database-version-50-mainland-new-zealand/","code":""},{"path":"http://isaacbain.com/isaacr/reference/lcdb5_chch.html","id":null,"dir":"Reference","previous_headings":"","what":"LCDB5 data cropped to Christchurch — lcdb5_chch","title":"LCDB5 data cropped to Christchurch — lcdb5_chch","text":"subset Land Cover Database version 5 (LCDB5) data cropped Christchurch area.","code":""},{"path":"http://isaacbain.com/isaacr/reference/lcdb5_chch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"LCDB5 data cropped to Christchurch — lcdb5_chch","text":"","code":"lcdb5_chch"},{"path":"http://isaacbain.com/isaacr/reference/lcdb5_chch.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"LCDB5 data cropped to Christchurch — lcdb5_chch","text":"SF data object 2,232 features 23 fields. NZTM2000 projection. CRS: 2193. Clipped bbox: xmin = 1543016, xmax = 1587730, ymin = 5169087, ymax = 5190086 .","code":""},{"path":"http://isaacbain.com/isaacr/reference/lcdb5_chch.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"LCDB5 data cropped to Christchurch — lcdb5_chch","text":"https://lris.scinfo.org.nz/layer/104400-lcdb-v50-land-cover-database-version-50-mainland-new-zealand/","code":""},{"path":"http://isaacbain.com/isaacr/reference/load.rivers.html","id":null,"dir":"Reference","previous_headings":"","what":"Load REC2.5 river data — load.rivers","title":"Load REC2.5 river data — load.rivers","text":"Load REC2.5 river data","code":""},{"path":"http://isaacbain.com/isaacr/reference/load.rivers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load REC2.5 river data — load.rivers","text":"","code":"load.rivers(   df = \"data/REC2_geodata_version_5/nzRec2_v5.gdb\",   layer = \"riverlines\" )"},{"path":"http://isaacbain.com/isaacr/reference/load.rivers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load REC2.5 river data — load.rivers","text":"df REC geodatabase file layer layer load","code":""},{"path":"http://isaacbain.com/isaacr/reference/load.rivers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load REC2.5 river data — load.rivers","text":"sf object REC river data","code":""},{"path":"http://isaacbain.com/isaacr/reference/load.ws.html","id":null,"dir":"Reference","previous_headings":"","what":"Load REC2.5 watershed data — load.ws","title":"Load REC2.5 watershed data — load.ws","text":"Load REC2.5 watershed data","code":""},{"path":"http://isaacbain.com/isaacr/reference/load.ws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load REC2.5 watershed data — load.ws","text":"","code":"load.ws(df = \"data/REC2_geodata_version_5/nzRec2_v5.gdb\", layer = \"rec2ws\")"},{"path":"http://isaacbain.com/isaacr/reference/load.ws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load REC2.5 watershed data — load.ws","text":"df REC geodatabase file layer layer load","code":""},{"path":"http://isaacbain.com/isaacr/reference/load.ws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load REC2.5 watershed data — load.ws","text":"sf object REC watershed data","code":""},{"path":"http://isaacbain.com/isaacr/reference/load_lcdb_symbology.html","id":null,"dir":"Reference","previous_headings":"","what":"Load LCDB symbology — load_lcdb_symbology","title":"Load LCDB symbology — load_lcdb_symbology","text":"Load LCDB symbology","code":""},{"path":"http://isaacbain.com/isaacr/reference/load_lcdb_symbology.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load LCDB symbology — load_lcdb_symbology","text":"","code":"load_lcdb_symbology()"},{"path":"http://isaacbain.com/isaacr/reference/load_lcdb_symbology.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load LCDB symbology — load_lcdb_symbology","text":"data frame symbology LCDB classes","code":""},{"path":"http://isaacbain.com/isaacr/reference/load_lcdb_symbology.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load LCDB symbology — load_lcdb_symbology","text":"","code":"load_lcdb_symbology() #>    Class  Colour                                       Name #> 1      1 #9c9c9c                 Built-up Area (settlement) #> 2      6 #704489                    Surface Mines and Dumps #> 3      5 #a80000                   Transport Infrastructure #> 4      2 #688578                  Urban Parkland/Open Space #> 5     10 #ffff73                             Sand or Gravel #> 6     12 #ca7af5                                  Landslide #> 7     15 #abcd66                     Alpine Grass/Herbfield #> 8     16 #9cba9c                             Gravel or Rock #> 9     14 #dbd4ff                     Permanent Snow and Ice #> 10    20 #bee8ff                               Lake or Pond #> 11    21 #bee8ff                                      River #> 12    22 #d6f5e8                       Estuarine Open Water #> 13    30 #ffd37f                    Short-rotation Cropland #> 14    33 #e69800 Orchard Vineyard and Other Perennial Crops #> 15    40 #beff8c            High Producing Exotic Grassland #> 16    41 #a3d400                    Low Producing Grassland #> 17    43 #e6e68c                     Tall Tussock Grassland #> 18    44 #d2d25a                         Depleted Grassland #> 19    45 #c2ffd6           Herbaceous Freshwater Vegetation #> 20    46 #def5de               Herbaceous Saline Vegetation #> 21    47 #7af5ca                                   Flaxland #> 22    50 #705c00                                   Fernland #> 23    51 #7d690f                         Gorse and/or Broom #> 24    52 #8c7922                       Manuka and/or Kanuka #> 25    54 #a8994f           Broadleaved Indigenous Hardwoods #> 26    55 #b8ab6a                       Sub Alpine Shrubland #> 27    56 #c4bb89                     Mixed Exotic Shrubland #> 28    58 #d4cdae                    Matagouri or Grey Scrub #> 29    80 #bfcdae                Peat Shrubland (Chatham Is) #> 30    81 #d4c27a                Dune Shrubland (Chatham Is) #> 31    64 #a1ad61                         Forest - Harvested #> 32    68 #477f00                        Deciduous Hardwoods #> 33    69 #284600                          Indigenous Forest #> 34    71 #38a800                              Exotic Forest #> 35    70 #448989                                   Mangrove #> 36     0 #000000                                   Not land"},{"path":"http://isaacbain.com/isaacr/reference/load_lcdb_vector.html","id":null,"dir":"Reference","previous_headings":"","what":"Load named vector of LCDB colours — load_lcdb_vector","title":"Load named vector of LCDB colours — load_lcdb_vector","text":"Load named vector LCDB colours","code":""},{"path":"http://isaacbain.com/isaacr/reference/load_lcdb_vector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load named vector of LCDB colours — load_lcdb_vector","text":"","code":"load_lcdb_vector()"},{"path":"http://isaacbain.com/isaacr/reference/load_lcdb_vector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load named vector of LCDB colours — load_lcdb_vector","text":"named vector LCDB colours","code":""},{"path":"http://isaacbain.com/isaacr/reference/st_create_hexagon.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to create a hexagon with a given radius, center, and rotation — st_create_hexagon","title":"Function to create a hexagon with a given radius, center, and rotation — st_create_hexagon","text":"Function create hexagon given radius, center, rotation","code":""},{"path":"http://isaacbain.com/isaacr/reference/st_create_hexagon.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to create a hexagon with a given radius, center, and rotation — st_create_hexagon","text":"","code":"st_create_hexagon(center, radius, rotation = 0, crs = 2193)"},{"path":"http://isaacbain.com/isaacr/reference/st_create_hexagon.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to create a hexagon with a given radius, center, and rotation — st_create_hexagon","text":"center coordinates center hexagon radius radius hexagon rotation rotate corners crs crs sf object","code":""},{"path":"http://isaacbain.com/isaacr/reference/st_create_hexagon.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to create a hexagon with a given radius, center, and rotation — st_create_hexagon","text":"hexagon sf object","code":""},{"path":"http://isaacbain.com/isaacr/reference/st_create_hexagon.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to create a hexagon with a given radius, center, and rotation — st_create_hexagon","text":"","code":"hexagon_sf <- create_hexagon(center = c(1600000, 5500000), radius = 100000, rotation = pi/8, crs = 2193) #> Error in create_hexagon(center = c(1600000, 5500000), radius = 1e+05,     rotation = pi/8, crs = 2193): could not find function \"create_hexagon\""},{"path":"http://isaacbain.com/isaacr/reference/trace_upstream.html","id":null,"dir":"Reference","previous_headings":"","what":"Trace upstream — trace_upstream","title":"Trace upstream — trace_upstream","text":"Trace upstream","code":""},{"path":"http://isaacbain.com/isaacr/reference/trace_upstream.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Trace upstream — trace_upstream","text":"","code":"trace_upstream(df, start_segment, max_distance = Inf, current_distance = 0)"},{"path":"http://isaacbain.com/isaacr/reference/trace_upstream.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Trace upstream — trace_upstream","text":"df REC sf object start_segment Starting segment max_distance Maximum distance trace upstream, set Inf goto top catchment current_distance Set 0","code":""},{"path":"http://isaacbain.com/isaacr/reference/trace_upstream.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Trace upstream — trace_upstream","text":"list segments upstream starting segment","code":""}]
